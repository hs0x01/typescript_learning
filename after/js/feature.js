var EmployeeCrudViewModel=function(){function e(e){this._employeeId=observable(""),this._employeeName=observable(""),this._department=observable(null),this._employeeIdFind=observable(""),this._employeeNameFind=observable(""),this._departmentFind=observable(null),this._departmentListModel=observable(null),this._employeeListViewModel=new EmployeeListViewModel,this.resetInput=function(){this.employeeId(""),this.employeeName(""),this.department(null),this.employeeIdFind(""),this.employeeNameFind(""),this.departmentFind(null)};var t=this;this._employeeIdFind.subscribe(function(){t.findEmployee()}),this._employeeNameFind.subscribe(function(){t.findEmployee()}),this._departmentFind.subscribe(function(){t.findEmployee()}),DepartmentRepository.findDepartmentAll(function(i){t._departmentListModel(i),e(t)})}return Object.defineProperty(e.prototype,"employeeId",{get:function(){return this._employeeId},set:function(e){this._employeeId=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"employeeName",{get:function(){return this._employeeName},set:function(e){this._employeeName=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"department",{get:function(){return this._department},set:function(e){this._department=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"employeeIdFind",{get:function(){return this._employeeIdFind},set:function(e){this._employeeIdFind=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"employeeNameFind",{get:function(){return this._employeeNameFind},set:function(e){this._employeeNameFind=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"departmentFind",{get:function(){return this._departmentFind},set:function(e){this._departmentFind=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"departmentListModel",{get:function(){return this._departmentListModel},set:function(e){this._departmentListModel=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"employeeListViewModel",{get:function(){return this._employeeListViewModel},set:function(e){this._employeeListViewModel=e},enumerable:!0,configurable:!0}),e.prototype.findEmployee=function(){var e=this.departmentListModel().findEmployeeByArgs(this.employeeIdFind(),this.employeeNameFind(),this.departmentFind()?this.departmentFind().id():null),t=this.employeeListViewModel.employeeListModel().employeeModelList;t(e)},e.prototype.selectEmployee=function(){var e=this.employeeListViewModel.getSelectedEmployee();this.employeeId(e.id()),this.employeeName(e.name()),this.department(e.departmentModel())},e.prototype.canAddEmployee=function(){if(!this.employeeId())return!1;if(!this.employeeName())return!1;if(!this.department()||!this.department().id())return!1;var e=this.departmentListModel().findEmployeeByArgs(this.employeeId(),null,null);return e.length>0?!1:!0},e.prototype.canUpdateEmployee=function(){if(!this.employeeId())return!1;if(!this.employeeName())return!1;if(!this.department()||!this.department().id())return!1;var e=this.departmentListModel().findEmployeeByArgs(this.employeeId(),null,null);return 0===e.length?!1:!0},e.prototype.canDeleteEmployee=function(){if(!this.employeeId())return!1;var e=this.departmentListModel().findEmployeeByArgs(this.employeeId(),null,null);return 0===e.length?!1:!0},e.prototype.addEmployee=function(){if(this.canAddEmployee()){var e=this.departmentListModel().findDepartmentById(this.department().id());e.addEmployee(this.employeeId(),this.employeeName()),this.resetInput(),this.findEmployee()}},e.prototype.updateEmployee=function(){if(this.canUpdateEmployee()){var e=this.departmentListModel().findEmployeeByArgs(this.employeeId(),null,null),t=e[0];t.updateEmployeeInfo(this.employeeName(),this.department()),this.resetInput(),this.findEmployee()}},e.prototype.deleteEmployee=function(){if(this.canDeleteEmployee()){var e=this.departmentListModel().findEmployeeByArgs(this.employeeId(),null,null),t=e[0];t.departmentModel().deleteEmployee(this.employeeId()),this.resetInput(),this.findEmployee()}},e.prototype.saveDepartmentAll=function(){DepartmentRepository.saveDepartmentAll(this.departmentListModel(),function(){})},e}(),EmployeeListViewModel=function(){function e(){this._selectedRowIdx=observable(0),this._employeeListModel=observable(new EmployeeListModel(GuidUtil.createGuid(),[]))}return Object.defineProperty(e.prototype,"selectedRowIdx",{get:function(){return this._selectedRowIdx},set:function(e){this._selectedRowIdx=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"employeeListModel",{get:function(){return this._employeeListModel},set:function(e){this._employeeListModel=e},enumerable:!0,configurable:!0}),e.prototype.getSelectedEmployee=function(){var e=this.employeeListModel(),t=e.employeeModelList(),i=null;return this.selectedRowIdx()>=0&&this.selectedRowIdx()<t.length&&(i=e.employeeModelList()[this.selectedRowIdx()]),i},e}();